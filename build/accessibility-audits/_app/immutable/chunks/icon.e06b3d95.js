import{C as p,o as f,B as m,a as b,c as _,_ as c,b as y}from"./base-component.5f558236.js";import{B as v,F as l}from"./base-adapter.4d7c1daa.js";/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */function A(i,t){const s=document.createElement("div");s.innerHTML=i;for(let a=s.childNodes.length-1;a>=0;a--)s.childNodes[a].nodeName.toLowerCase()!=="svg"&&s.removeChild(s.childNodes[a]);const e=s.firstElementChild;return e&&e.nodeName.toLowerCase()==="svg"&&u(e)?(t&&e.setAttribute("viewBox",t),!e.hasAttribute("viewBox")&&t&&e.setAttribute("viewBox",t),e.removeAttribute("height"),e.removeAttribute("width"),e):null}function u(i){if(i.nodeType!==1)return!0;if(i.nodeName.toLowerCase()==="script")return!1;const t=Array.from(i.attributes);for(const e of t)if(typeof e.name=="string"&&e.name.toLowerCase().startsWith("on"))return!1;const s=Array.from(i.childNodes);for(const e of s)if(!u(e))return!1;return!0}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const E=`${p}icon`,x={NAME:"name",SRC:"src",LAZY:"lazy",EXTERNAL:"external",EXTERNAL_TYPE:"external-type",VIEWBOX:"viewbox"},T=Object.assign({},x),L={LAZY_ROOT_MARGIN:50,DEFAULT_WIDTH:24,DEFAULT_HEIGHT:24},g={DEFAULT_NETWORK_BASE_URL:`${f}v1/icons/svg`},n={elementName:E,attributes:T,numbers:L,strings:g},$="forgeIcons";/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class I extends v{constructor(t){super(t)}canLazyLoad(){return!!window.IntersectionObserver}observeVisibility(t){this._observer=new IntersectionObserver(s=>{s.some(e=>e.isIntersecting)&&(this.destroyVisibilityObserver(),t())},{rootMargin:`${n.numbers.LAZY_ROOT_MARGIN}px`}),this._observer.observe(this._component)}destroyVisibilityObserver(){this._observer&&(this._observer.disconnect(),this._observer=void 0)}setContent(t){var s;const e=this._component.shadowRoot,a=e.querySelector("style");e.innerHTML=t,t&&((s=e.firstElementChild)===null||s===void 0||s.setAttribute("aria-hidden","true")),a&&e.appendChild(a)}}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class r{static define(t,s){if(Array.isArray(t))return t.filter(h=>r._isIconObject(h)).forEach(h=>r._register(h.name,h.data));const{name:e,data:a}=r._parseIcon(t,s);r._register(e,a)}static remove(t){const s=r._isIconObject(t)?t.name:t;r._icons.delete(s)}static removeListener(t,s){const e=r._listeners.get(t);Array.isArray(e)&&e.includes(s)&&e.splice(e.indexOf(s),1)}static clear(){r._icons.clear(),r._listeners.clear()}static get(t){return r._icons.get(t)}static getIconNames(){return Array.from(r._icons.keys())}static awaitIcon(t,s){var e;if(r._icons.has(t)){s();return}const a=(e=r._listeners.get(t))!==null&&e!==void 0?e:[];r._listeners.set(t,[...a,s])}static get size(){return r._icons.size}static _register(t,s){r._icons.set(t,s),r._invalidateListeners(t)}static _invalidateListeners(t){const s=r._listeners.get(t);Array.isArray(s)&&s.length&&(s.forEach(e=>e()),r._listeners.delete(t))}static _parseIcon(t,s=""){return r._isIconObject(t)?t:{name:t,data:s}}static _isIconObject(t){return typeof t=="object"&&t.hasOwnProperty("name")&&t.hasOwnProperty("data")}}r._icons=new Map;r._listeners=new Map;/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const d=new Map;function C(i,t,s=!0){if(!i||!i.includes("svg"))return"";!t&&!i.includes("viewBox")&&(t=`0 0 ${n.numbers.DEFAULT_WIDTH} ${n.numbers.DEFAULT_HEIGHT}`);const e=A(i,t);return s&&e&&(e.setAttribute("part","svg"),e.querySelectorAll("path").forEach(a=>{a.setAttribute("part",a.tagName.toLowerCase())})),e?e.outerHTML:""}function w(i){return r.get(i)}function N(i,t){r.awaitIcon(i,t)}function O(i,t){r.removeListener(i,t)}function z(i,t){let s=d.get(i);if(!s)if(typeof fetch<"u"&&typeof document<"u")s=fetch(i).then(async e=>{if(e.ok){const a=await e.text()||"";return r.define({name:t,data:a}),d.delete(i),a}return r.define({name:t,data:""}),""}),d.set(i,s);else return r.define({name:t,data:""}),Promise.resolve("");return s||Promise.resolve("")}function U(i){return["standard","extended","custom"].includes(i)?i:""}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class B{constructor(t){this._adapter=t,this._external=!1,this._externalType="standard",this._lazyListener=()=>this._loadIcon()}initialize(){this._applyIcon()}disconnect(){this._adapter.destroyVisibilityObserver(),this._clearIconQueue(),this._tryRemoveListener()}_safeApplyIcon(){this._adapter.isConnected&&(this._clearIconQueue(),this._queueIconUpdate())}_tryRemoveListener(){this._registrationListener&&this._name&&O(this._name,this._registrationListener)}_applyIcon(){this._lazy&&this._adapter.canLazyLoad()?this._adapter.observeVisibility(this._lazyListener):this._loadIcon()}_clearIconQueue(){this._applyTimer&&(clearTimeout(this._applyTimer),this._applyTimer=void 0)}_queueIconUpdate(){this._applyTimer=window.setTimeout(()=>{this._applyTimer=void 0,this._applyIcon()})}async _loadIcon(){try{if(this._src)this._setIconContent(this._src);else if(this._name){let t=this._tryGetIcon(this._name);if(!t){if(!this._external){this._registrationListener=()=>this._applyIcon(),N(this._name,this._registrationListener),this._adapter.setContent("");return}if(!this._externalType)throw new Error(`Invalid external type provided for icon: ${this._name}`);const s=this._getExternalUrl(this._name,this._externalType);s&&(t=await z(s,this._name))}this._setIconContent(t)}else this._adapter.setContent("")}catch(t){throw this._adapter.setContent(""),t}}_setIconContent(t){const s=C(t,this._viewbox);this._adapter.setContent(s)}_tryGetIcon(t){return w(t)}_getExternalUrl(t,s){if(typeof this._externalUrlBuilder=="function")return this._externalUrlBuilder(t,s);const e=U(this._externalType);return`${n.strings.DEFAULT_NETWORK_BASE_URL}${e?`/${e}`:""}/${t}.svg`}get name(){return this._name}set name(t){this._name!==t&&(this._registrationListener&&this._tryRemoveListener(),this._name=(t||"").replace(/\s+/,""),this._safeApplyIcon(),this._adapter.toggleHostAttribute(n.attributes.NAME,!!this._name,this._name))}get src(){return this._src}set src(t){this._src!==t&&(this._src=t,this._adapter.isConnected&&this._applyIcon())}get lazy(){return this._lazy}set lazy(t){this._lazy!==t&&(this._lazy=t,this._safeApplyIcon(),this._adapter.setHostAttribute(n.attributes.LAZY,`${this._lazy}`))}get external(){return this._external}set external(t){this._external!==t&&(this._external=t,this._safeApplyIcon(),this._adapter.setHostAttribute(n.attributes.EXTERNAL,`${this._external}`))}get externalType(){return this._externalType}set externalType(t){this._externalType!==t&&(this._externalType=t,this._safeApplyIcon(),this._adapter.setHostAttribute(n.attributes.EXTERNAL_TYPE,`${this._externalType}`))}get externalUrlBuilder(){return this._externalUrlBuilder}set externalUrlBuilder(t){this._externalUrlBuilder!==t&&(this._externalUrlBuilder=t,this._safeApplyIcon())}get viewbox(){return this._viewbox}set viewbox(t){this._viewbox!==t&&(this._viewbox=t,this._safeApplyIcon(),this._adapter.setHostAttribute(n.attributes.VIEWBOX,`${this.viewbox}`))}layout(){this._adapter.isConnected&&this._applyIcon()}}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const S="<template></template>",M=':host{font-size:24px;font-size:var(--forge-icon-font-size, 24px);display:inline-block;contain:content;-webkit-box-sizing:content-box!important;box-sizing:content-box!important}:host>svg{fill:currentColor;fill:var(--forge-icon-theme-color,currentColor);stroke:currentColor;stroke:var(--forge-icon-theme-color,currentColor);display:block;width:1em;height:1em;stroke-width:0}:host([hidden]){display:none}:host([theme=primary]){color:var("primary")}:host([theme=secondary]){color:var("secondary")}:host([theme=warning]){color:#d14900;color:var("warning", #d14900)}:host([theme=danger]){color:#b00020;color:var("danger", #b00020)}:host([theme=success]){color:#2e7d32;color:var("success", #2e7d32)}:host([theme=info]){color:#424242;color:var("info", #424242)}:host([theme=tertiary]){color:#3d5afe;color:var("tertiary", #3d5afe)}';let o=class extends m{static get observedAttributes(){return[n.attributes.NAME,n.attributes.SRC,n.attributes.LAZY,n.attributes.EXTERNAL,n.attributes.EXTERNAL_TYPE,n.attributes.VIEWBOX]}constructor(){super(),b(this,S,M),this._foundation=new B(new I(this))}connectedCallback(){this._foundation.initialize()}disconnectedCallback(){this._foundation.disconnect()}attributeChangedCallback(t,s,e){switch(t){case n.attributes.NAME:this.name=e;break;case n.attributes.SRC:this.src=e;break;case n.attributes.LAZY:this.lazy=_(e);break;case n.attributes.EXTERNAL:this.external=_(e);break;case n.attributes.EXTERNAL_TYPE:this.externalType=e;break;case n.attributes.VIEWBOX:this.viewbox=e;break}}layout(){this._foundation.layout()}};c([l()],o.prototype,"name",void 0);c([l()],o.prototype,"src",void 0);c([l()],o.prototype,"lazy",void 0);c([l()],o.prototype,"external",void 0);c([l()],o.prototype,"externalType",void 0);c([l()],o.prototype,"externalUrlBuilder",void 0);c([l()],o.prototype,"viewbox",void 0);o=c([y({name:n.elementName})],o);export{o as I,n as a,$ as b,r as c,I as d,B as e,N as f,w as g,z as h,U as i,O as r,C as s};
