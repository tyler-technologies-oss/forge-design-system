import{C as b,g as u,B as h,a as A,_ as s,b as l}from"./base-component.2bf7bdb1.js";import{B as m,F as n}from"./base-adapter.318bc5f7.js";/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const d=`${b}backdrop`,_={CONTAINER:".forge-backdrop"},y={OPACITY:.54,DELAY:0,TRANSITION_DURATION:150},k={DELAY:"delay",MAX_OPACITY:"max-opacity",APPEARANCE:"appearance",FIXED:"fixed"},O={BACKDROP_CLICK:`${d}-click`},e={elementName:d,selectors:_,numbers:y,attributes:k,events:O};/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class E extends m{constructor(t){super(t),this._backdropElement=u(t,e.selectors.CONTAINER)}setBackdropOpacity(t){this._backdropElement.style.opacity=t.toString()}addBackdropEventListener(t,i){this._backdropElement.addEventListener("click",i)}removeBackdropEventListener(t,i){this._backdropElement.removeEventListener("click",i)}}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class g{constructor(t){this._adapter=t,this._delay=e.numbers.DELAY,this._maxOpacity=e.numbers.OPACITY,this._adapter.addBackdropEventListener("click",this._onClick.bind(this))}initialize(){this._adapter.setBackdropOpacity(0),this._applyAppearance(),this._adapter.setHostAttribute(e.attributes.DELAY,this._delay.toString()),this.fadeIn()}fadeOut(){return new Promise(t=>{this._adapter.setBackdropOpacity(0),setTimeout(()=>t(),e.numbers.TRANSITION_DURATION)})}fadeIn(){return new Promise(t=>{setTimeout(()=>{this._adapter.setBackdropOpacity(this._maxOpacity),setTimeout(()=>t(),e.numbers.TRANSITION_DURATION)},this.delay)})}_onClick(t){t.stopPropagation(),this._adapter.emitHostEvent(e.events.BACKDROP_CLICK,void 0,!0,!0)}disconnect(){this._adapter.removeBackdropEventListener("click",this._onClick)}_applyAppearance(){this._appearance?this._adapter.setHostAttribute(e.attributes.APPEARANCE,String(this._appearance)):this._adapter.removeHostAttribute(e.attributes.APPEARANCE)}set delay(t){this._delay!==t&&(this._delay=t,this._adapter.setHostAttribute(e.attributes.DELAY,this._delay.toString()))}get delay(){return this._delay}set maxOpacity(t){this._maxOpacity!==t&&(this._maxOpacity=t,this._adapter.setHostAttribute(e.attributes.MAX_OPACITY,this._maxOpacity.toString()))}get maxOpacity(){return this._maxOpacity}get appearance(){return this._appearance}set appearance(t){this._appearance!==t&&(this._appearance=t,this._applyAppearance())}}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const C='<template><div class="forge-backdrop" part="root"></div></template>',f=".forge-backdrop{z-index:7;z-index:var(--forge-z-index-backdrop,7);background-color:rgba(0,0,0,.54);background-color:var(--forge-backdrop-theme-background,rgba(0,0,0,.54));position:absolute;top:0;bottom:0;left:0;right:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-transition:opacity 150ms 0s cubic-bezier(0, 0, .2, 1);transition:opacity 150ms 0s cubic-bezier(0, 0, .2, 1);opacity:0}:host{display:block}:host([hidden]){display:none}:host([fixed]) .forge-backdrop{position:fixed}:host([appearance=light]){--forge-backdrop-theme-background:rgba(255, 255, 255, 0.54)}:host([appearance=dark]){--forge-backdrop-theme-background:rgba(0, 0, 0, 0.54)}";let a=class extends h{static get observedAttributes(){return[e.attributes.DELAY,e.attributes.MAX_OPACITY]}constructor(){super(),A(this,C,f),this._foundation=new g(new E(this))}connectedCallback(){if(this.hasAttribute(e.attributes.DELAY)&&this.getAttribute(e.attributes.DELAY)){const t=Number(this.getAttribute(e.attributes.DELAY));this.delay=t>=0?t:e.numbers.DELAY}if(this.hasAttribute(e.attributes.MAX_OPACITY)){const t=Number(this.getAttribute(e.attributes.MAX_OPACITY));this.maxOpacity=t>=0&&t<=1?t:e.numbers.OPACITY}this._foundation.initialize()}disconnectedCallback(){this._foundation.disconnect()}attributeChangedCallback(t,i,r){switch(t){case e.attributes.DELAY:const p=Number(r);this.delay=p>=0?p:e.numbers.DELAY;break;case e.attributes.MAX_OPACITY:const o=Number(r);this.maxOpacity=o>=0&&o<=1?o:e.numbers.OPACITY;break;case e.attributes.APPEARANCE:this.appearance=r;break}}fadeOut(){return this._foundation.fadeOut()}fadeIn(){return this._foundation.fadeIn()}};s([n()],a.prototype,"delay",void 0);s([n()],a.prototype,"appearance",void 0);s([n()],a.prototype,"maxOpacity",void 0);a=s([l({name:e.elementName})],a);export{e as B,a};
