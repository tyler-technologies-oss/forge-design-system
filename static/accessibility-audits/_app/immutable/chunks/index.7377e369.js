import{C as N,g as d,e as O,B as A,a as b,c as E,_ as a,b as f,d as I}from"./base-component.2bf7bdb1.js";import{B as u,F as c}from"./base-adapter.318bc5f7.js";import{O as y}from"./open-icon-constants.0e61e2a4.js";import{g as T}from"./event-utils.66a7cc93.js";/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const g=`${N}expansion-panel`,l={CONTAINER:"forge-expansion-panel",HEADER:"forge-expansion-panel__header",CONTENT:"forge-expansion-panel__content"},v={CONTAINER:`.${l.CONTAINER}`,HEADER:`.${l.HEADER}`,CONTENT:`.${l.CONTENT}`,HEADER_SLOT:`.${l.HEADER} > slot[name=header]`,OPEN_ICON:`[slot=header] ${y.elementName}`},L={TOGGLE:`${g}-toggle`},C={OPEN:"open",ORIENTATION:"orientation",USE_ANIMATIONS:"use-animations",IGNORE:"data-forge-ignore",IGNORE_ALT:"forge-ignore"},h={COLLAPSE_ANIMATION_DURATION:400,CLICK_DEBOUNCE_THRESHOLD:200},k={ORIENTATION_VERTICAL:"vertical",ORIENTATION_HORIZONTAL:"horizontal",EXPANSION_VERTICAL_TRANSITION:`height ${h.COLLAPSE_ANIMATION_DURATION}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${h.COLLAPSE_ANIMATION_DURATION}ms ease-in-out`,EXPANSION_HORIZONTAL_TRANSITION:`width ${h.COLLAPSE_ANIMATION_DURATION}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${h.COLLAPSE_ANIMATION_DURATION}ms ease-in-out`},t={elementName:g,classes:l,selectors:v,events:L,attributes:C,numbers:h,strings:k};/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class R extends u{constructor(e){super(e),this._headerElement=d(this._component,t.selectors.HEADER),this._contentElement=d(this._component,t.selectors.CONTENT),this._headerSlotElement=d(this._component,t.selectors.HEADER_SLOT)}initialize(e,n="vertical"){const o=this._headerElement.children[0].assignedNodes();if(this.setHeaderVisibility(!!o.length),n===t.strings.ORIENTATION_HORIZONTAL&&(this._contentElement.style.height="",this._contentElement.style.width="0px"),e){n==="vertical"?this._contentElement.style.height="":this._contentElement.style.width="",this._contentElement.style.removeProperty("opacity"),this._contentElement.style.removeProperty("visibility");const r=this._component.querySelector(t.selectors.OPEN_ICON);r&&(r.open=!0)}this._headerElement.setAttribute("aria-expanded",e?"true":"false")}setHeaderVisibility(e){e?this._headerElement.style.display="":this._headerElement.style.display="none"}setOpenState(e,n=t.strings.ORIENTATION_VERTICAL,o=!0){const r=this._contentElement.children[0].assignedNodes(),i=this._component.querySelector(t.selectors.OPEN_ICON);if(o&&r&&r.length&&r[0]){const _=({propertyName:m})=>{if(this._component.open!==e){this._contentElement.removeEventListener("transitionend",_);return}(m==="height"||m==="width")&&(this._contentElement.removeEventListener("transitionend",_),this._contentElement.style.removeProperty("transition"),e?(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width="":this._contentElement.style.height="",this._contentElement.style.removeProperty("opacity")):this._contentElement.style.visibility="hidden")};this._contentElement.addEventListener("transitionend",_),e?(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width="0px":this._contentElement.style.height="0px",this._contentElement.style.opacity="0",this._contentElement.style.removeProperty("visibility")):(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width=`${this._contentElement.scrollWidth}px`:this._contentElement.style.height=`${this._contentElement.scrollHeight}px`,this._contentElement.style.opacity="1"),n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.transition=t.strings.EXPANSION_HORIZONTAL_TRANSITION:this._contentElement.style.transition=t.strings.EXPANSION_VERTICAL_TRANSITION,this._activeAnimationFrame=window.requestAnimationFrame(()=>{this._activeAnimationFrame=window.requestAnimationFrame(()=>{this._activeAnimationFrame=void 0,e?(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width=`${this._contentElement.scrollWidth}px`:this._contentElement.style.height=`${this._contentElement.scrollHeight}px`,this._contentElement.style.opacity="1",this._headerElement.setAttribute("aria-expanded","true"),i&&(i.open=!0)):(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width="0px":this._contentElement.style.height="0px",this._contentElement.style.opacity="0",this._headerElement.setAttribute("aria-expanded","false"),i&&(i.open=!1))})})}else this._activeAnimationFrame&&(window.cancelAnimationFrame(this._activeAnimationFrame),this._activeAnimationFrame=void 0),this._contentElement.style.removeProperty("transition"),e?(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width="":this._contentElement.style.height="",this._contentElement.style.removeProperty("visibility"),this._contentElement.style.removeProperty("opacity"),this._headerElement.setAttribute("aria-expanded","true"),i&&(i.open=!0)):(n===t.strings.ORIENTATION_HORIZONTAL?this._contentElement.style.width="0px":this._contentElement.style.height="0px",this._contentElement.style.opacity="0",this._contentElement.style.visibility="hidden",this._headerElement.setAttribute("aria-expanded","false"),i&&(i.open=!1))}registerClickListener(e){this._headerElement.addEventListener("click",e)}deregisterClickListener(e){this._headerElement.removeEventListener("click",e)}registerKeydownListener(e){this._headerElement.addEventListener("keydown",e)}deregisterKeydownListener(e){this._headerElement.removeEventListener("keydown",e)}registerHeaderSlotListener(e){this._headerSlotElement.addEventListener("slotchange",e)}deregisterHeaderSlotListener(e){this._headerSlotElement.removeEventListener("slotchange",e)}}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */class x{constructor(e){this._adapter=e,this._open=!1,this._useAnimations=!0,this._orientation=t.strings.ORIENTATION_VERTICAL,this._isInitialized=!1,this._clickListener=O(n=>this._onClick(n),t.numbers.CLICK_DEBOUNCE_THRESHOLD,!0),this._keydownListener=n=>this._onKeydown(n),this._headerSlotChangeListener=n=>this._onHeaderSlotChanged(n)}initialize(){this.connect(),this._adapter.initialize(this._open,this._orientation),this._isInitialized=!0}connect(){this._adapter.registerHeaderSlotListener(this._headerSlotChangeListener),this._adapter.registerClickListener(this._clickListener),this._adapter.registerKeydownListener(this._keydownListener)}disconnect(){this._adapter.deregisterHeaderSlotListener(this._headerSlotChangeListener),this._adapter.deregisterClickListener(this._clickListener),this._adapter.deregisterKeydownListener(this._keydownListener)}setOpenImmediate(e){e?this._openPanel(!1):this._closePanel(!1)}_applyOpen(e){if(!this._isInitialized){this._open=e;return}e?this._openCallback?Promise.resolve(this._openCallback()).then(()=>{this._open=e,this._openPanel(this._useAnimations)}).catch(()=>{}):(this._open=e,this._openPanel(this._useAnimations)):this._closeCallback?Promise.resolve(this._closeCallback()).then(()=>{this._open=e,this._closePanel(this._useAnimations)}).catch(()=>{}):(this._open=e,this._closePanel(this._useAnimations))}get open(){return this._open}set open(e){e=!!e,this._open!==e&&this._applyOpen(e)}get openCallback(){return this._openCallback}set openCallback(e){this._openCallback=e}get closeCallback(){return this._closeCallback}set closeCallback(e){this._closeCallback=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get useAnimations(){return this._useAnimations}set useAnimations(e){this._useAnimations!==!!e&&(this._useAnimations=!!e,this._adapter.setHostAttribute(t.attributes.USE_ANIMATIONS,`${this._useAnimations}`))}_onClick(e){T(e).find(n=>n.nodeType===1&&(n.hasAttribute(t.attributes.IGNORE)||n.hasAttribute(t.attributes.IGNORE_ALT)))||(e.stopPropagation(),this._toggle(),this._emitEvent())}_onKeydown(e){(e.key===" "||e.key==="Enter")&&(e.stopPropagation(),e.preventDefault(),this._toggle(),this._emitEvent())}_emitEvent(){this._adapter.emitHostEvent(t.events.TOGGLE,this._open)}_toggle(){this.open=!this.open}_openPanel(e){this._adapter.setHostAttribute(t.attributes.OPEN,""),this._adapter.setOpenState(!0,this._orientation,e)}_closePanel(e){this._adapter.removeHostAttribute(t.attributes.OPEN),this._adapter.setOpenState(!1,this._orientation,e)}_onHeaderSlotChanged(e){this._adapter.setHeaderVisibility(!!e.target.assignedNodes().length)}}/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */const w='<template><div class="forge-expansion-panel" part="root"><div class="forge-expansion-panel__header" part="header"><slot name="header"></slot></div><div class="forge-expansion-panel__content" style="height: 0; opacity: 0; visibility: hidden;" part="content"><slot></slot></div></div></template>',P=".forge-expansion-panel{display:block;display:var(--forge-expansion-panel-display,block);height:auto;height:var(--forge-expansion-panel-height,auto)}.forge-expansion-panel__header{outline:0}.forge-expansion-panel__header:hover{cursor:pointer}.forge-expansion-panel__header forge-open-icon{margin-left:auto}.forge-expansion-panel__content{overflow:hidden;overflow:var(--forge-expansion-panel-content-overflow,hidden);max-height:none;max-height:var(--forge-expansion-panel-content-max-height,none)}.forge-expansion-panel__content::-webkit-scrollbar{height:var(--forge-scrollbar-height,16px);width:var(--forge-scrollbar-width,16px)}.forge-expansion-panel__content::-webkit-scrollbar-track{background-color:var(--forge-scrollbar-track-container,var(--forge-theme-surface-container-low,#ebebeb))}.forge-expansion-panel__content::-webkit-scrollbar-track:hover{background-color:var(--forge-scrollbar-track-container-hover,var(--forge-theme-surface-container-low,#ebebeb))}.forge-expansion-panel__content::-webkit-scrollbar-corner{background-color:var(--forge-scrollbar-track-container,var(--forge-theme-surface-container-low,#ebebeb))}.forge-expansion-panel__content::-webkit-scrollbar-thumb{height:var(--forge-scrollbar-thumb-min-height,32px);width:var(--forge-scrollbar-thumb-min-width,32px);border-radius:var(--forge-scrollbar-border-radius,var(--forge-shape-full,9999px));border-width:var(--forge-scrollbar-border-width,3px);border-style:solid;border-color:transparent;background-color:var(--forge-scrollbar-thumb-container,var(--forge-theme-surface-container-medium,#c2c2c2));background-clip:content-box}.forge-expansion-panel__content::-webkit-scrollbar-thumb:hover{background-color:var(--forge-scrollbar-thumb-container-hover,var(--forge-theme-surface-container-high,#9e9e9e))}:host{display:block}:host([hidden]){display:none}";let s=class extends A{static get observedAttributes(){return[t.attributes.OPEN,t.attributes.ORIENTATION,t.attributes.USE_ANIMATIONS]}constructor(){super(),b(this,w,P),this._foundation=new x(new R(this))}initializedCallback(){this._foundation.initialize()}connectedCallback(){this._foundation.connect()}attributeChangedCallback(e,n,o){switch(e){case t.attributes.OPEN:this.open=E(o);break;case t.attributes.ORIENTATION:this.orientation=o;break;case t.attributes.USE_ANIMATIONS:this.useAnimations=E(o);break}}disconnectedCallback(){this._foundation.disconnect()}toggle(){this.open=!this.open}setOpenImmediate(e){this._foundation.setOpenImmediate(e)}};a([c()],s.prototype,"open",void 0);a([c()],s.prototype,"openCallback",void 0);a([c()],s.prototype,"closeCallback",void 0);a([c()],s.prototype,"orientation",void 0);a([c()],s.prototype,"useAnimations",void 0);s=a([f({name:t.elementName})],s);/**
 * @license
 * Copyright 2023 Tyler Technologies, Inc. 
 * License: Apache-2.0
 */function Z(){I(s)}export{t as EXPANSION_PANEL_CONSTANTS,R as ExpansionPanelAdapter,s as ExpansionPanelComponent,x as ExpansionPanelFoundation,Z as defineExpansionPanelComponent};
